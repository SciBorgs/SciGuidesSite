
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../AdvancedJava/">
      
      
        <link rel="next" href="../CommandLineNavigation/">
      
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Command Based Programming - SciGuides</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="yellow" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-command-based-paradigm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SciGuides" class="md-header__button md-logo" aria-label="SciGuides" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SciGuides
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Command Based Programming
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SciGuides" class="md-nav__button md-logo" aria-label="SciGuides" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    SciGuides
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Intro To Programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Intro To Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/intro-to-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/intro-to-programming/Programming101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Programming 101
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/intro-to-programming/Java101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java 101
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/intro-to-programming/Java102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java 102
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/DifferentialDrive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Differential Drive
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference Sheets
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference Sheets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AdvancedJava/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Java
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Command Based Programming
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Command Based Programming
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-command-based-paradigm" class="md-nav__link">
    <span class="md-ellipsis">
      The Command-based Paradigm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subsystems" class="md-nav__link">
    <span class="md-ellipsis">
      Subsystems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    <span class="md-ellipsis">
      Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-compositions" class="md-nav__link">
    <span class="md-ellipsis">
      Command Compositions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Triggers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifics-common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Specifics &amp; Common Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifics &amp; Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#singular-command-instances" class="md-nav__link">
    <span class="md-ellipsis">
      Singular Command Instances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-composition-requirements-proxying" class="md-nav__link">
    <span class="md-ellipsis">
      Command Composition Requirements &amp; Proxying
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CommandLineNavigation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Line Navigation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ControlTheory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Control Theory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EnvironmentSetup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FileStructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../GitGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sensors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Simulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Telemetry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telemetry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Trigonometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trig Guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-command-based-paradigm" class="md-nav__link">
    <span class="md-ellipsis">
      The Command-based Paradigm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subsystems" class="md-nav__link">
    <span class="md-ellipsis">
      Subsystems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    <span class="md-ellipsis">
      Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-compositions" class="md-nav__link">
    <span class="md-ellipsis">
      Command Compositions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Triggers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifics-common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Specifics &amp; Common Issues
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifics &amp; Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#singular-command-instances" class="md-nav__link">
    <span class="md-ellipsis">
      Singular Command Instances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-composition-requirements-proxying" class="md-nav__link">
    <span class="md-ellipsis">
      Command Composition Requirements &amp; Proxying
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Command Based Programming</h1>

<h2 id="the-command-based-paradigm"><a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/what-is-command-based.html">The Command-based Paradigm</a></h2>
<p>For its wide capabilities and ease of use, we use WPILib's command-based paradigm to compartmentalize and control the different parts of our robot.</p>
<p>Subsystems represent independent parts of the robot and their hardware, which work together to achieve a desired action.</p>
<p>Commands safely direct those subsystems to perform actions in a wide suite of ways. They can be chained together in parallel or made sequential to one another, among other handy functions.</p>
<p>These are general definitions; there's actually a fair bit of nuance to both.</p>
<h2 id="subsystems"><a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/subsystems.html">Subsystems</a></h2>
<p>For our purposes, all subsystems extend WPILib's <code>SubsystemBase</code>. It provides command safety functionality, its <a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/subsystems.html#periodic">inherited periodic methods</a>, and <a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/subsystems.html#default-commands">default commands</a>. See in greater detail on <a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/subsystems.html">the official WPILib docs</a>.</p>
<p>More specifically, subsystems can be defined as collections of hardware that are not dependent on others to function well. As a result, multiple different mechanisms can be part of a single subsystem.</p>
<p>For instance, imagine a double-jointed arm. When the joint connected to the main pivot moves, the position of the arm stemming from the joint will change, making their movement and position dependent on one another.</p>
<p>As a result, it is good practice to contain both mechanisms in the same subsystem so that they have easy access to each other's information, which makes accounting for relative position easier. This limits code duplication and makes working with the whole simpler.</p>
<h2 id="commands"><a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/commands.html">Commands</a></h2>
<p>Commands represent robot actions with the hardware. They should be used for actions that may interfere with how the robot is run (i.e actual robot movement or changing PID constants.)</p>
<p>Generally when we create commands, we do so using preexisting types of commands, and a set of helpful static methods in a class called <code>Commands</code> that return Commands. (Theoretically, you could also make a whole class for each command, but that's almost never a good idea).</p>
<p>Before we talk about types of commands, let's quickly go over what the technical definition of a Command is. The class <code>Command</code> is what all Command classes inherit from, and it has four primary methods that different Command classes override in order to define their behavior:</p>
<ul>
<li><code>public void initialize()</code><ul>
<li>Called when the command is started</li>
</ul>
</li>
<li><code>public void execute()</code><ul>
<li>Called every tick (every 0.02 seconds) while the command is running</li>
</ul>
</li>
<li><code>public void end(boolean interrupted)</code><ul>
<li>Called when the command is ended</li>
<li>Commands can end either because their end condition is met or because they are interrupted by another command on the same subsystem. <code>end</code> takes whether or not the command has been interrupted as an input, so that you can change the end behavior of a command based on whether it reached its end condition.</li>
</ul>
</li>
<li><code>public boolean isFinished()</code><ul>
<li>This is the end condition for a command. It is called each tick after a command has been executed, and if it is <code>isFinished</code> returns <code>true</code>, the command is un-scheduled and <code>end(false)</code> is called (<code>false</code> because the command has not been interrupted).</li>
</ul>
</li>
</ul>
<p>I used the passive voice for these explanations, but just to be clear, all of these methods are being called by the <code>CommandScheduler</code>, which is in turn called periodically by <code>Robot</code>.</p>
<p>So, just to summarize the progression:</p>
<ol>
<li>A command <code>c</code> is scheduled</li>
<li><code>c.initialize()</code> is called</li>
<li>Each tick until the command is over:<ol>
<li><code>c.execute()</code> is called</li>
<li><code>c.isFinished()</code> is called, and if it returns <code>true</code> the command is over</li>
</ol>
</li>
<li><code>c.end(interrupted)</code> is called</li>
</ol>
<p>Commands also have a set of subsystems that they require.</p>
<p>Now, let's go over a two of the most common types of Commands, how they work, and how to make them:</p>
<ul>
<li>Run command (<code>RunCommand</code>)<ul>
<li><code>isFinished()</code> always returns <code>false</code>, so it keeps on running forever until it is interrupted.</li>
<li>Constructor: <code>RunCommand(Runnable toRun, Subsystem... requirements)</code><ul>
<li>toRun will be run in <code>execute()</code></li>
<li><code>requirements</code> is all of the subsystems that the command requires. The <code>...</code> means that you can just add as many as you want.</li>
</ul>
</li>
<li>How to create using <code>Commands</code>: <code>Commands.run(Runnable action, Subsystem... requirements)</code></li>
<li>Example: <code>Command toToOrigin = Commands.run(() -&gt; drive.goTo(0, 0), drive)</code></li>
</ul>
</li>
<li>Run once command (<code>InstantCommand</code>)<ul>
<li><code>isFinished</code> always returns <code>true</code>, so it stops immediately after just one execution</li>
<li>How to create using <code>Commands</code>: <code>Commands.runOnce(Runnable action, Subsystem... requirements)</code></li>
<li>Example: <code>Command stop = Commands.runOnce(drive::stop, drive)</code></li>
</ul>
</li>
</ul>
<p>We then build on commands like these using various methods that allow us to combine or modify different commands.</p>
<p>A nice list of these individual commands can be found under the subclasses of WPILib's <a href="https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/wpilibj2/command/Command.html">Command class</a>.</p>
<p><em>Note: we avoid using specific control commands like <code>PIDCommand</code> or <code>SwerveControllerCommand</code> as they limit our precision and capabilities compared to using their components individually.</em></p>
<h3 id="command-compositions">Command Compositions</h3>
<p>Commands can also be chained together to create much larger commands for complex routines. You'll likely be using these a lot:</p>
<ul>
<li><a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/command-compositions.html#parallel">Parallel Commands</a> - run multiple commands / runnables at once</li>
<li>Deadline and Race Commands (different end conditions)</li>
<li><a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/command-compositions.html#sequence">Sequential Commands</a> - run commands / runnables after the previous one ends</li>
</ul>
<p>For more examples, see a good list <a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/command-compositions.html#composition-types">here</a>.</p>
<h3 id="decorators">Decorators</h3>
<p>WPILib provides command methods that can chain onto other commands to dynamically create compositions like the one below.</p>
<p>These include methods like <code>andThen()</code> and <code>alongWith()</code>, representing the creation of a sequential and parallel command respectively.</p>
<p>When properly composed, complex commands can often be read through like plain english, like below:</p>
<pre><code class="language-java">    operator
        .leftTrigger()
        .whileTrue(
            shooting.shootWithPivot(PivotConstants.FEED_ANGLE, ShooterConstants.DEFAULT_VELOCITY));
    // while the operator controller's left trigger button is held, shoot
</code></pre>
<p>Individual commands and command groups each have their own singular / group of decorators. The majority can be found <a href="https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/wpilibj2/command/Command.html">here</a>.</p>
<p>Commands can also be accessed through <a href="https://github.wpilib.org/allwpilib/docs/release/java/edu/wpi/first/wpilibj2/command/Commands.html">WPILib's <code>Commands</code></a> class.</p>
<h2 id="triggers">Triggers</h2>
<p>A big part of the command-based ecosystem are triggers. Users can bind commands and <code>Runnable</code> actions to triggers, which are run in specified ways when the trigger is activated. </p>
<p>Common operations with trigger commands include, but are not limited to:</p>
<ul>
<li><code>onTrue()</code>, run once on trigger activation</li>
<li><code>whileTrue()</code>, run periodically while trigger is active</li>
</ul>
<p>For instance, the <code>teleop()</code> trigger in <code>Robot.java</code> (and its sisters) run binded commands when teleop mode is activated on the robot (by DriverStation or FMS).</p>
<p>See <a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/binding-commands-to-triggers.html">here for examples and specific usage in WPILib</a>.</p>
<h2 id="specifics-common-issues">Specifics &amp; Common Issues</h2>
<h3 id="singular-command-instances">Singular Command Instances</h3>
<p>Each instance of a command can only be scheduled once, otherwise risking unpredictable behavior. To remedy this, we create command factories that return new instances of a command each time it is called, like below:</p>
<pre><code class="language-java">    public Command updateSetpoint(double velocity) {
        return run(() -&gt; hardware.setVelocity(velocity));
    }
</code></pre>
<h3 id="command-composition-requirements-proxying">Command Composition Requirements &amp; Proxying</h3>
<p>When created, command compositions take on the subsystem requirements of all of its parts, sometimes creating undesirable behavior as no other commands can be run on a subsystem even if the composition has sequenced past that point.</p>
<p>The current best solution to this (as of 24-25) is command proxying. See <a href="https://docs.wpilib.org/en/stable/docs/software/commandbased/command-compositions.html#scheduling-other-commands">the docs</a> for a more in-depth discussion.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../AdvancedJava/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Advanced Java">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Advanced Java
              </div>
            </div>
          </a>
        
        
          
          <a href="../CommandLineNavigation/" class="md-footer__link md-footer__link--next" aria-label="Next: Command Line Navigation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Command Line Navigation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>